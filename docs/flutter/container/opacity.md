ä¸‹é¢æˆ‘æŒ‰ä½ ä¸€è´¯çš„å­¦ä¹ é£æ ¼ï¼Œç»™ä½ ä¸€ä»½**â€œç³»ç»Ÿ + åŸç† + æ€§èƒ½ + å®æˆ˜â€**çº§åˆ«çš„
**Flutter ç»„ä»¶ `Opacity` çŸ¥è¯†ç‚¹å¤§å…¨ & å±æ€§å¤§å…¨**ã€‚
è¿™ä»½å†…å®¹å¯ä»¥ç›´æ¥è¿›ä½ çš„ Flutter ç»„ä»¶ç¬”è®°åº“ã€‚

---

## ä¸€ã€Opacity æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¸€å¥è¯ç†è§£ï¼‰

**`Opacity` ç”¨æ¥æ§åˆ¶å­ç»„ä»¶çš„é€æ˜åº¦ï¼ˆ0.0 ~ 1.0ï¼‰ï¼Œä½†ä¸æ”¹å˜å¸ƒå±€ã€ä¸æ”¹å˜å°ºå¯¸ã€‚**

> å®ƒåªå½±å“ **â€œç”»å‡ºæ¥æ—¶æœ‰å¤šé€æ˜â€**
> ğŸ‘‰ **ä¸å½±å“å ä½ã€ä¸å½±å“ç‚¹å‡»åŒºåŸŸã€ä¸å½±å“å¸ƒå±€**

---

## äºŒã€Opacity èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ

ä½ åœ¨ Flutter ä¸­ç»å¸¸ä¼šé‡åˆ°ï¼š

* æƒ³è®©ç»„ä»¶ **åŠé€æ˜æ˜¾ç¤º**
* åš **æ¸éš / æ¸æ˜¾åŠ¨ç”»**
* UI ä¸­çš„ **ç¦ç”¨æ€ / æ¬¡è¦ä¿¡æ¯**
* å›¾ç‰‡ / å¡ç‰‡ **å åŠ æ˜¾ç¤ºå±‚æ¬¡**

è¿™äº›åœºæ™¯ï¼Œ`Opacity` éƒ½æ˜¯æœ€ç›´æ¥çš„æ–¹æ¡ˆã€‚

---

## ä¸‰ã€Opacity çš„åŸºæœ¬ç”¨æ³•

### 1ï¸âƒ£ æœ€ç®€å•çš„ä¾‹å­

```dart
Opacity(
  opacity: 0.5,
  child: Container(
    width: 120,
    height: 120,
    color: Colors.blue,
  ),
)
```

ğŸ“Œ æ•ˆæœï¼š

* è“è‰²å®¹å™¨ä»ç„¶å  120Ã—120
* åªæ˜¯â€œçœ‹èµ·æ¥â€å˜æ·¡äº†

![Image](https://media.geeksforgeeks.org/wp-content/uploads/20200831133140/306.PNG)

![Image](https://terry1213.com/assets/flutter/WidgetOfTheWeek/5.Opacity/Example2.png)

![Image](https://lazebny.io/content/images/2023/10/opacity-1.png)

---

## å››ã€Opacity çš„å±æ€§å¤§å…¨ï¼ˆéå¸¸ç®€å•ï¼Œä½†è¦ç†è§£é€ï¼‰

### ğŸ§© æ„é€ å‡½æ•°

```dart
const Opacity({
  Key? key,
  required this.opacity,
  this.alwaysIncludeSemantics = false,
  Widget? child,
})
```

---

### 1ï¸âƒ£ opacity â­ï¸æ ¸å¿ƒå±æ€§

```dart
double opacity
```

| å€¼     | å«ä¹‰        |
| ----- | --------- |
| `0.0` | å®Œå…¨é€æ˜ï¼ˆçœ‹ä¸è§ï¼‰ |
| `0.5` | åŠé€æ˜       |
| `1.0` | å®Œå…¨ä¸é€æ˜     |

âš ï¸ **å–å€¼èŒƒå›´å¿…é¡»æ˜¯ 0.0 ~ 1.0**

---

#### é‡è¦è®¤çŸ¥ï¼ˆå¾ˆå¤šäººä¼šè¯¯è§£ï¼‰

```dart
Opacity(opacity: 0.0)
```

âŒ å¹¶ä¸ç­‰äºéšè—
âŒ å¹¶ä¸ä¼šç§»é™¤å¸ƒå±€
âŒ ä»ç„¶å‚ä¸ç»˜åˆ¶æµç¨‹
âŒ ä»ç„¶å ç©ºé—´
âŒ ä»ç„¶å“åº”ç‚¹å‡»ï¼ˆé»˜è®¤ï¼‰

---

### 2ï¸âƒ£ childï¼ˆå­ç»„ä»¶ï¼‰

```dart
Widget? child
```

* è¢«è®¾ç½®é€æ˜åº¦çš„ç»„ä»¶
* **é€æ˜åº¦ä¼šå½±å“æ•´ä¸ªå­æ ‘**

---

### 3ï¸âƒ£ alwaysIncludeSemanticsï¼ˆæ— éšœç¢ç›¸å…³ï¼‰

```dart
bool alwaysIncludeSemantics
```

| å€¼           | è¯´æ˜                    |
| ----------- | --------------------- |
| `false`ï¼ˆé»˜è®¤ï¼‰ | opacity = 0 æ—¶ï¼Œè¯­ä¹‰å¯èƒ½è¢«å¿½ç•¥ |
| `true`      | å³ä½¿å®Œå…¨é€æ˜ï¼Œä¹Ÿä¿ç•™è¯­ä¹‰ä¿¡æ¯        |

ğŸ“Œ ä¸€èˆ¬ä¸šåŠ¡å¼€å‘ **åŸºæœ¬ç”¨ä¸åˆ°**

---

## äº”ã€Opacity çš„åº•å±‚åŸç†ï¼ˆä¸ºä»€ä¹ˆå®ƒâ€œè´µâ€ï¼‰

### â— éå¸¸é‡è¦ï¼šOpacity â‰  åªæ˜¯æ”¹é¢œè‰²

å½“ `opacity < 1.0` æ—¶ï¼š

* Flutter ä¼šåˆ›å»º **æ–°çš„ç»˜åˆ¶å±‚ï¼ˆLayerï¼‰**
* ä¼šè§¦å‘ **saveLayer**
* GPU / åˆæˆæˆæœ¬ä¸Šå‡

ğŸ“Œ **è¿™å°±æ˜¯æ€§èƒ½é—®é¢˜çš„æ ¹æº**

---

## å…­ã€Opacity vs å…¶ä»–â€œçœ‹èµ·æ¥ç±»ä¼¼â€çš„ç»„ä»¶ï¼ˆå¿…ä¼šå¯¹æ¯”ï¼‰

### 1ï¸âƒ£ Opacity vs Visibility

| å¯¹æ¯”   | Opacity | Visibility |
| ---- | ------- | ---------- |
| æ˜¯å¦é€æ˜ | âœ…       | âŒ          |
| æ˜¯å¦å ä½ | âœ…       | å¯é€‰         |
| æ˜¯å¦ç»˜åˆ¶ | âœ…       | å¯é€‰         |
| æ€§èƒ½   | âŒ è¾ƒå·®    | âœ… è¾ƒå¥½       |

ğŸ‘‰ **çº¯éšè—ç»„ä»¶ï¼Œç”¨ Visibility / Offstage**

---

### 2ï¸âƒ£ Opacity vs Container(color.withOpacity)

```dart
Container(
  color: Colors.blue.withOpacity(0.5),
)
```

| å¯¹æ¯”   | Opacity  | withOpacity |
| ---- | -------- | ----------- |
| å½±å“èŒƒå›´ | æ•´ä¸ª child | åªå½±å“é¢œè‰²       |
| æ€§èƒ½   | âŒ è¾ƒå·®     | âœ… æ›´å¥½        |
| æ¨èåº¦  | åŠ¨ç”»       | é™æ€ UI       |

ğŸ“Œ **é™æ€åŠé€æ˜èƒŒæ™¯ï¼Œä¼˜å…ˆç”¨é¢œè‰²é€æ˜**

---

### 3ï¸âƒ£ Opacity vs AnimatedOpacity â­ï¸

| ç»„ä»¶              | æ˜¯å¦åŠ¨ç”» |
| --------------- | ---- |
| Opacity         | âŒ    |
| AnimatedOpacity | âœ…    |

---

## ä¸ƒã€æ­£ç¡® & é«˜é¢‘ä½¿ç”¨åœºæ™¯

### âœ… 1ï¸âƒ£ æ¸éš / æ¸æ˜¾åŠ¨ç”»ï¼ˆæ¨èï¼‰

```dart
AnimatedOpacity(
  opacity: isVisible ? 1.0 : 0.0,
  duration: const Duration(milliseconds: 300),
  child: Text('Hello'),
)
```

ğŸ‘‰ **åŠ¨ç”»è¯·ç”¨ `AnimatedOpacity`ï¼Œä¸æ˜¯è£¸ Opacity**

---

### âœ… 2ï¸âƒ£ UI å±‚æ¬¡å¼±åŒ–ï¼ˆå°‘é‡ï¼‰

```dart
Opacity(
  opacity: 0.6,
  child: Text('æ¬¡è¦ä¿¡æ¯'),
)
```

---

### âš ï¸ 3ï¸âƒ£ List / Grid ä¸­æ…ç”¨

âŒ æ¯ä¸€é¡¹éƒ½åŒ… Opacity
âŒ æ»šåŠ¨åˆ—è¡¨ä¸­å¤§é‡ä½¿ç”¨

---

## å…«ã€å¸¸è§è¯¯åŒºï¼ˆä½ ä¸€å®šè¦é¿å¼€ï¼‰

### âŒ è¯¯åŒº 1ï¼šç”¨ Opacity å½“éšè—ç»„ä»¶

```dart
Opacity(opacity: 0)
```

ğŸ‘‰ **é”™è¯¯åšæ³•**

æ­£ç¡®æ›¿ä»£ï¼š

```dart
Visibility(visible: false)
Offstage(offstage: true)
```

---

### âŒ è¯¯åŒº 2ï¼šåˆ—è¡¨é‡Œå¤§é‡ Opacity

* ä¼šå¯¼è‡´ GPU åˆæˆå±‚æš´æ¶¨
* æ»‘åŠ¨æ‰å¸§

---

### âŒ è¯¯åŒº 3ï¼šopacity = 1 ä¹ŸåŒ…ä¸€å±‚

```dart
Opacity(opacity: 1)
```

ğŸ‘‰ **å®Œå…¨æ²¡æ„ä¹‰ï¼Œè¿˜å¤šä¸€å±‚ Widget**

---

## ä¹ã€æ€§èƒ½å»ºè®®ï¼ˆéå¸¸å®ç”¨ï¼‰

âœ… é™æ€ UI â†’ `withOpacity`
âœ… åŠ¨ç”» â†’ `AnimatedOpacity`
âŒ åˆ—è¡¨ â†’ å°½é‡ä¸ç”¨
âŒ ä¸è¦æ»¥ç”¨ opacity < 1

---

## åã€ä¸€å¥è¯ç»ˆææ€»ç»“ï¼ˆç›´æ¥è®°ï¼‰

> **Opacity åªæ§åˆ¶â€œçœ‹èµ·æ¥æœ‰å¤šé€æ˜â€ï¼Œä¸æ§åˆ¶å¸ƒå±€ï¼›opacity < 1 ä¼šå¢åŠ åˆæˆæˆæœ¬ï¼ŒåŠ¨ç”»ç”¨ AnimatedOpacityï¼Œéšè—ç”¨ Visibilityã€‚**

---

## ä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç»§ç»­å¸®ä½ ï¼š

* ğŸ”¥ **Opacity / Visibility / Offstage æºç çº§åŒºåˆ«**
* ğŸ”¥ **ä¸ºä»€ä¹ˆ opacity < 1 ä¼šè§¦å‘ saveLayerï¼ˆå›¾è§£ï¼‰**
* ğŸ”¥ **Flutter å¸¸è§æ€§èƒ½é™·é˜±ç»„ä»¶æ¸…å•ï¼ˆéå¸¸é€‚åˆä½ è¿™ä¸ªé˜¶æ®µï¼‰**

ä½ æ›´æƒ³ç»§ç»­ **æ€§èƒ½åŸç†**ï¼Œè¿˜æ˜¯ **åŠ¨ç”»å®æˆ˜**ï¼Ÿ
