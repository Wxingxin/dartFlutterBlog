å¥½ï¼Œè¿™ä¸€å—ä½ é—®å¾—**éå¸¸å…³é”®**ğŸ‘
Dart é‡Œå˜é‡å£°æ˜çœ‹ä¼¼å°±è¿™ **`var / final / const / late`** å››ä¸ªï¼Œä½†èƒŒå**ç±»å‹æ¨æ–­ã€ç¼–è¯‘æœŸå¸¸é‡ã€è¿è¡ŒæœŸå¸¸é‡ã€ç©ºå®‰å…¨ã€Flutter æ€§èƒ½**éƒ½ç»‘åœ¨ä¸€èµ·ã€‚
æˆ‘ç»™ä½ ä¸€ä»½ **ã€Œé¢è¯• + å®æˆ˜ + æ˜“æ··ç‚¹ã€å®Œæ•´ç‰ˆç¬”è®°**ã€‚

---

# Dart å˜é‡å£°æ˜ï¼ˆvar / final / const / lateï¼‰çŸ¥è¯†ç‚¹å¤§å…¨

---

## ä¸€ã€`var` â€”â€” å¯å˜å˜é‡ï¼ˆç±»å‹è‡ªåŠ¨æ¨æ–­ï¼‰

### 1ï¸âƒ£ åŸºæœ¬ç”¨æ³•

```dart
var a = 10;
var b = 'hello';
var c = true;
```

* **ç¼–è¯‘æœŸç±»å‹å·²ç¡®å®š**
* ä¸æ˜¯ JS çš„ `var`ï¼ˆä¸ä¼šå˜ç±»å‹ï¼‰

âŒ é”™è¯¯ç¤ºä¾‹ï¼š

```dart
var x = 10;
x = 'hello'; // âŒ ç±»å‹é”™è¯¯
```

---

### 2ï¸âƒ£ ç­‰ä»·å†™æ³•

```dart
int a = 10;
String b = 'hello';
```

> `var` åªæ˜¯ **çœç•¥æ˜¾å¼ç±»å‹**

---

### 3ï¸âƒ£ var + ç©ºå®‰å…¨

```dart
var a;        // a çš„ç±»å‹æ˜¯ dynamic
var b = null; // b çš„ç±»å‹æ˜¯ Null
```

âš ï¸ é¢è¯•å¸¸è€ƒç‚¹ï¼š

> **åªæœ‰åœ¨åˆå§‹åŒ–æ—¶ï¼Œvar æ‰ä¼šåšç±»å‹æ¨æ–­**

---

### 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

âœ… æ¨èï¼š

* å±€éƒ¨å˜é‡
* ç±»å‹ä¸€çœ¼èƒ½çœ‹æ‡‚æ—¶

âŒ ä¸æ¨èï¼š

* å…¬å…± API
* æˆå‘˜å˜é‡ï¼ˆå¯è¯»æ€§å·®ï¼‰

---

## äºŒã€`final` â€”â€” è¿è¡ŒæœŸå¸¸é‡ï¼ˆåªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼‰

### 1ï¸âƒ£ åŸºæœ¬ç”¨æ³•

```dart
final a = 10;
final DateTime now = DateTime.now();
```

* **åªèƒ½èµ‹å€¼ä¸€æ¬¡**
* **è¿è¡Œæ—¶æ‰ç¡®å®šå€¼**

---

### 2ï¸âƒ£ final â‰  ä¸å¯å˜å¯¹è±¡

```dart
final list = [1, 2, 3];
list.add(4); // âœ… å¯ä»¥
```

â— final é™åˆ¶çš„æ˜¯ **å˜é‡æŒ‡å‘**ï¼Œä¸æ˜¯å¯¹è±¡å†…å®¹

---

### 3ï¸âƒ£ final vs var

```dart
var a = 10;
a = 20; // âœ…

final b = 10;
b = 20; // âŒ
```

---

### 4ï¸âƒ£ final + ç±»æˆå‘˜

```dart
class User {
  final String name;

  User(this.name);
}
```

ğŸ“Œ Flutter ä¸­**æå…¶å¸¸è§**

---

### 5ï¸âƒ£ ä½¿ç”¨åœºæ™¯

âœ… æ¨èï¼š

* ç½‘ç»œè¯·æ±‚ç»“æœ
* æ„é€ å‡½æ•°å‚æ•°
* ä¸ä¼šå†æ”¹å˜çš„å˜é‡

---

## ä¸‰ã€`const` â€”â€” ç¼–è¯‘æœŸå¸¸é‡ï¼ˆçœŸæ­£çš„å¸¸é‡ï¼‰

### 1ï¸âƒ£ åŸºæœ¬ç”¨æ³•

```dart
const a = 10;
const b = 'hello';
```

* **ç¼–è¯‘æœŸå°±ç¡®å®š**
* å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸå¸¸é‡

---

### 2ï¸âƒ£ const é™åˆ¶æ›´ä¸¥æ ¼

```dart
const now = DateTime.now(); // âŒ
```

åŸå› ï¼š

> `DateTime.now()` æ˜¯è¿è¡Œæ—¶å€¼

---

### 3ï¸âƒ£ const å¯¹è±¡ï¼ˆé‡è¦ï¼‰

```dart
const list = [1, 2, 3];
const map = {'a': 1};
```

* å¯¹è±¡å’Œå†…éƒ¨å…ƒç´ éƒ½ä¸å¯å˜
* ç¼–è¯‘æœŸç›´æ¥å¤ç”¨å†…å­˜

---

### 4ï¸âƒ£ const æ„é€ å‡½æ•°ï¼ˆFlutter é«˜é¢‘ï¼‰

```dart
class User {
  final String name;
  const User(this.name);
}

const u1 = User('Tom');
const u2 = User('Tom');

print(identical(u1, u2)); // true
```

ğŸ“Œ **Flutter æ€§èƒ½ä¼˜åŒ–æ ¸å¿ƒç‚¹**

---

### 5ï¸âƒ£ const vs finalï¼ˆæ ¸å¿ƒå¯¹æ¯”ï¼‰

| å¯¹æ¯”é¡¹        | final  | const         |
| ---------- | ------ | ------------- |
| ç¡®å®šæ—¶æœº       | è¿è¡ŒæœŸ    | ç¼–è¯‘æœŸ           |
| æ˜¯å¦å¯å˜       | åªèƒ½èµ‹å€¼ä¸€æ¬¡ | å®Œå…¨ä¸å¯å˜         |
| æ˜¯å¦èŠ‚çœå†…å­˜     | âŒ      | âœ…             |
| Flutter æ¨è | å¸¸ç”¨     | **Widget å¿…ç”¨** |

---

## å››ã€`late` â€”â€” å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆç©ºå®‰å…¨åˆ©å™¨ï¼‰

### 1ï¸âƒ£ ä¸ºä»€ä¹ˆéœ€è¦ lateï¼Ÿ

```dart
late String name;
name = 'Tom';
print(name);
```

* **å£°æ˜æ—¶ä¸åˆå§‹åŒ–**
* **ä½¿ç”¨å‰å¿…é¡»èµ‹å€¼**

---

### 2ï¸âƒ£ late vs å¯ç©ºç±»å‹

```dart
String? name;     // å¯èƒ½ä¸º null
late String name; // ä¸€å®šé nullï¼ˆä½ ä¿è¯ï¼‰
```

âš ï¸ å¦‚æœæ²¡èµ‹å€¼å°±ç”¨ï¼š

```dart
late String name;
print(name); // âŒ RuntimeError
```

---

### 3ï¸âƒ£ late finalï¼ˆéå¸¸å¸¸è§ï¼‰

```dart
late final String token;

void init() {
  token = 'abc123';
}
```

* åªèµ‹å€¼ä¸€æ¬¡
* ä½†å¯ä»¥å»¶è¿Ÿ

---

### 4ï¸âƒ£ late + æ‡’åŠ è½½

```dart
late final data = fetchData();

String fetchData() {
  print('fetching...');
  return 'result';
}
```

* ç¬¬ä¸€æ¬¡ä½¿ç”¨æ‰æ‰§è¡Œ
* ç±»ä¼¼ getter æ‡’åŠ è½½

---

### 5ï¸âƒ£ ä½¿ç”¨åœºæ™¯

âœ… æ¨èï¼š

* ç”Ÿå‘½å‘¨æœŸç›¸å…³å˜é‡ï¼ˆinitStateï¼‰
* ç½‘ç»œæ•°æ®
* å¿…é¡»é null ä½†æ— æ³•ç«‹å³åˆå§‹åŒ–

âŒ ä¸æ¨èï¼š

* æ»¥ç”¨ lateï¼ˆä¼šéšè— null é—®é¢˜ï¼‰

---

## äº”ã€å››è€…å¯¹æ¯”æ€»è¡¨ï¼ˆå¿…èƒŒï¼‰

| å…³é”®å­—   | æ˜¯å¦å¯å˜ | èµ‹å€¼æ¬¡æ•° | ç¡®å®šæ—¶æœº  | å¸¸è§ç”¨é€”        |
| ----- | ---- | ---- | ----- | ----------- |
| var   | âœ…    | å¤šæ¬¡   | ç¼–è¯‘æœŸæ¨æ–­ | å±€éƒ¨å˜é‡        |
| final | âŒ    | ä¸€æ¬¡   | è¿è¡ŒæœŸ   | æˆå‘˜å˜é‡        |
| const | âŒ    | ä¸€æ¬¡   | ç¼–è¯‘æœŸ   | å¸¸é‡ / Widget |
| late  | å–å†³   | å–å†³   | å»¶è¿Ÿ    | ç©ºå®‰å…¨         |

---

## å…­ã€Flutter å®æˆ˜å¯¹ç…§ï¼ˆé«˜é¢‘ï¼‰

### Widget æ„é€ 

```dart
class MyWidget extends StatelessWidget {
  final String title;
  const MyWidget({super.key, required this.title});
}
```

### initState å»¶è¿Ÿèµ‹å€¼

```dart
late final String token;

@override
void initState() {
  super.initState();
  token = getToken();
}
```

---

## ä¸ƒã€é¢è¯•é«˜é¢‘æ€»ç»“ä¸€å¥è¯ï¼ˆèƒŒï¼‰

* **var**ï¼šç±»å‹æ¨æ–­çš„å¯å˜å˜é‡
* **final**ï¼šè¿è¡ŒæœŸä¸€æ¬¡èµ‹å€¼
* **const**ï¼šç¼–è¯‘æœŸä¸å¯å˜å¸¸é‡
* **late**ï¼šæˆ‘ä¿è¯ç¨åä¸€å®šèµ‹å€¼

---

å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥å¸®ä½ ï¼š

1ï¸âƒ£ ç”¨ **JS / TS å¯¹ç…§ Dart**ï¼ˆå‰ç«¯æœ€å®¹æ˜“ç§’æ‡‚ï¼‰
2ï¸âƒ£ å‡ºä¸€å¥— **Flutter é¢è¯•é¢˜ + é™·é˜±é¢˜**
3ï¸âƒ£ ç»™ä½ ä¸€å¼  **Dart å˜é‡å£°æ˜æ€ç»´å¯¼å›¾**

ä½ é€‰ä¸€ä¸ªï¼Œæˆ‘ç»§ç»­ ğŸ”¥
