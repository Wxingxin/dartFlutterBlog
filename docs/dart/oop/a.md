ä¸‹é¢è¿™ä»½å†…å®¹æˆ‘æŒ‰**â€œå·¥ç¨‹çº§ç†è§£ + å…¨é‡è¦†ç›– + å¯ç›´æ¥ç”¨â€**æ¥è®²ï¼Œé€‚åˆä½ ç°åœ¨è¿™ä¸ªé˜¶æ®µç³»ç»Ÿè¡¥é½ **Dart `class` ä¸­å­—æ®µï¼ˆå±æ€§ï¼‰å®šä¹‰æ–¹å¼** çš„çŸ¥è¯†ä½“ç³»ã€‚

ä½ å¯ä»¥æŠŠå®ƒå½“æˆ **Dart ç±»å­—æ®µçš„â€œå®˜æ–¹ä½¿ç”¨æ‰‹å†Œ + è¸©å‘æŒ‡å—â€**ã€‚

---

# ä¸€ã€Dart ç±»å­—æ®µ 4 å¤§ç±»å‹æ€»è§ˆï¼ˆå…ˆç»™å…¨æ™¯ï¼‰

åœ¨ Dart çš„ `class` ä¸­ï¼Œå­—æ®µä¸»è¦åˆ†ä¸º 4 ç±»ï¼š

| ç±»å‹       | å…³é”®å­—    | æ˜¯å¦å¯å˜        | æ˜¯å¦å¿…é¡»åˆå§‹åŒ– | æ˜¯å¦å±äºå®ä¾‹ |
| -------- | ------ | ----------- | ------- | ------ |
| æ™®é€šå­—æ®µ     | æ—       | âœ… å¯å˜        | âŒ å¯é€‰    | âœ…      |
| final å­—æ®µ | final  | âŒ åªè¯»        | âœ… å¿…é¡»    | âœ…      |
| late å­—æ®µ  | late   | å–å†³äºæ˜¯å¦ final | âŒ å»¶è¿Ÿ    | âœ…      |
| é™æ€å­—æ®µ     | static | å–å†³äºå®šä¹‰       | å–å†³äºå®šä¹‰   | âŒ      |

---

# äºŒã€æ™®é€šå­—æ®µï¼ˆNormal Fieldï¼‰

## 1ï¸âƒ£ å®šä¹‰æ–¹å¼

```dart
class User {
  String name = '';
  int age = 0;
}
```

æˆ–è€…ï¼š

```dart
class User {
  String name;
  int age;

  User(this.name, this.age);
}
```

---

## 2ï¸âƒ£ ç‰¹ç‚¹æ€»ç»“

* âœ… **å¯è¯»å¯å†™**
* âœ… æ¯ä¸ªå¯¹è±¡ä¸€ä»½
* âŒ ä¸å¯ç”¨åœ¨ `const` æ„é€ å‡½æ•°
* âŒ æœªåˆå§‹åŒ–æ—¶ï¼Œ**éç©ºç±»å‹å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­èµ‹å€¼**

---

## 3ï¸âƒ£ ä½¿ç”¨ç¤ºä¾‹

```dart
class Counter {
  int count = 0;

  void increment() {
    count++;
  }
}
```

---

## 4ï¸âƒ£ å¸¸è§å‘

âŒ å¿˜è®°åˆå§‹åŒ–éç©ºå­—æ®µï¼š

```dart
class A {
  int x; // âŒ ç¼–è¯‘é”™è¯¯
}
```

âœ” æ­£ç¡®æ–¹å¼ï¼š

```dart
class A {
  int x;
  A(this.x);
}
```

---

# ä¸‰ã€`final` å­—æ®µï¼ˆåªè¯»å­—æ®µï¼‰

## 1ï¸âƒ£ å®šä¹‰æ–¹å¼

```dart
class User {
  final String id;
  final DateTime createdAt;

  User(this.id) : createdAt = DateTime.now();
}
```

---

## 2ï¸âƒ£ æ ¸å¿ƒè¯­ä¹‰ï¼ˆéå¸¸é‡è¦ï¼‰

> **`final` å­—æ®µï¼šåªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œä½†ä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡**

* èµ‹å€¼æ—¶æœºï¼š

  * æ„é€ å‡½æ•°å‚æ•°
  * åˆå§‹åŒ–åˆ—è¡¨
  * å£°æ˜æ—¶ç›´æ¥èµ‹å€¼

---

## 3ï¸âƒ£ ä½¿ç”¨åœºæ™¯

* ä¸å¸Œæœ›å¯¹è±¡åˆ›å»ºåè¢«ä¿®æ”¹
* æ•°æ®æ¨¡å‹ï¼ˆModelï¼‰
* çŠ¶æ€å¿«ç…§
* Flutter Widget å±æ€§ï¼ˆæå…¶é‡è¦ï¼‰

```dart
class User {
  final String name;
  final int age;

  const User(this.name, this.age);
}
```

---

## 4ï¸âƒ£ `final` vs æ™®é€šå­—æ®µ

| å¯¹æ¯”    | æ™®é€šå­—æ®µ | final |
| ----- | ---- | ----- |
| æ˜¯å¦å¯ä¿®æ”¹ | âœ…    | âŒ     |
| æ˜¯å¦æ¨è  | ä¸€èˆ¬   | âœ…     |
| çº¿ç¨‹å®‰å…¨  | âŒ    | ç›¸å¯¹å®‰å…¨  |

---

# å››ã€`late` å»¶è¿Ÿåˆå§‹åŒ–å­—æ®µï¼ˆé‡ç‚¹ + æ˜“é”™ï¼‰

## 1ï¸âƒ£ `late` æ˜¯ä»€ä¹ˆï¼Ÿ

> å‘Šè¯‰ Dartï¼š**â€œè¿™ä¸ªå­—æ®µç°åœ¨ä¸èµ‹å€¼ï¼Œä½†æˆ‘ä¿è¯ç”¨ä¹‹å‰ä¸€å®šä¼šèµ‹å€¼â€**

```dart
class User {
  late String token;

  void login() {
    token = 'abc123';
  }
}
```

---

## 2ï¸âƒ£ `late` çš„ä¸¤ç§ç”¨æ³•ï¼ˆéå¸¸é‡è¦ï¼‰

### â‘  `late` æ™®é€šå­—æ®µ

```dart
late String name;
```

* å¯å¤šæ¬¡èµ‹å€¼
* ç”¨å‰å¿…é¡»èµ‹å€¼
* å¦åˆ™è¿è¡Œæ—¶å¼‚å¸¸

```dart
LateInitializationError
```

---

### â‘¡ `late final` å­—æ®µï¼ˆğŸ”¥ é«˜é¢‘ï¼‰

```dart
late final String id;
```

* åªèƒ½èµ‹å€¼ä¸€æ¬¡
* å¯åœ¨æ„é€ å‡½æ•° **ä¹‹å¤–** èµ‹å€¼

```dart
class Config {
  late final String env;

  void init() {
    env = 'prod';
  }
}
```

---

## 3ï¸âƒ£ `late` çš„å…¸å‹ä½¿ç”¨åœºæ™¯

### Flutter ä¸­çš„ `initState`

```dart
late AnimationController controller;

@override
void initState() {
  super.initState();
  controller = AnimationController(vsync: this);
}
```

---

## 4ï¸âƒ£ `late` çš„å‘ï¼ˆå¿…é¡»çŸ¥é“ï¼‰

âŒ æœªèµ‹å€¼ç›´æ¥è®¿é—®ï¼š

```dart
late String a;
print(a); // ğŸ’¥ è¿è¡Œæ—¶é”™è¯¯
```

âŒ æ»¥ç”¨ `late` æ©ç›–è®¾è®¡é—®é¢˜

ğŸ‘‰ èƒ½åœ¨æ„é€ å‡½æ•°é‡Œåˆå§‹åŒ–çš„ï¼Œ**ä¸è¦ç”¨ late**

---

# äº”ã€`static` é™æ€å­—æ®µ

## 1ï¸âƒ£ ä»€ä¹ˆæ˜¯é™æ€å­—æ®µï¼Ÿ

> **å±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯å¯¹è±¡å®ä¾‹**

```dart
class Config {
  static String baseUrl = 'https://api.example.com';
}
```

---

## 2ï¸âƒ£ è®¿é—®æ–¹å¼

```dart
print(Config.baseUrl);
```

âŒ é”™è¯¯æ–¹å¼ï¼š

```dart
Config().baseUrl; // âŒ
```

---

## 3ï¸âƒ£ `static` çš„ç‰¹ç‚¹

* åªå­˜åœ¨ä¸€ä»½
* æ‰€æœ‰å®ä¾‹å…±äº«
* æ— æ³•è®¿é—®å®ä¾‹å­—æ®µ

```dart
static void foo() {
  // print(name); âŒ
}
```

---

## 4ï¸âƒ£ `static final`ï¼ˆå¸¸é‡é…ç½®ï¼‰

```dart
class AppConfig {
  static final DateTime startTime = DateTime.now();
}
```

---

## 5ï¸âƒ£ `static const`ï¼ˆç¼–è¯‘æœŸå¸¸é‡ï¼‰

```dart
class Colors {
  static const red = 0xFFFF0000;
}
```

---

# å…­ã€ç»„åˆä½¿ç”¨å¤§å…¨ï¼ˆçœŸå®é¡¹ç›®å†™æ³•ï¼‰

```dart
class User {
  // å®ä¾‹å­—æ®µ
  final String id;
  String name;

  // å»¶è¿Ÿåˆå§‹åŒ–
  late final String token;

  // é™æ€å­—æ®µ
  static int userCount = 0;

  User(this.id, this.name) {
    userCount++;
  }
}
```

---

# ä¸ƒã€å®Œæ•´å¯¹æ¯”æ€»ç»“è¡¨ï¼ˆå»ºè®®æ”¶è—ï¼‰

| å†™æ³•                 | æ˜¯å¦å¯å˜ | åˆå§‹åŒ–æ—¶æœº | å¸¸è§ç”¨é€”         |
| ------------------ | ---- | ----- | ------------ |
| `String name;`     | âœ…    | æ„é€ å‡½æ•°  | æ™®é€šçŠ¶æ€         |
| `final String id;` | âŒ    | æ„é€ å‡½æ•°  | æ•°æ®æ¨¡å‹         |
| `late String a;`   | âœ…    | ä½¿ç”¨å‰   | Flutter ç”Ÿå‘½å‘¨æœŸ |
| `late final x;`    | âŒ    | ä»»æ„ä¸€æ¬¡  | å»¶è¿Ÿåªè¯»         |
| `static x;`        | å–å†³   | ç±»åŠ è½½   | å…¨å±€é…ç½®         |

---

# å…«ã€å·¥ç¨‹çº§å»ºè®®ï¼ˆéå¸¸é‡è¦ï¼‰

âœ… **é»˜è®¤é¡ºåº**ï¼ˆä»æ¨èåˆ°ä¸æ¨èï¼‰ï¼š

1. `final`
2. æ™®é€šå­—æ®µï¼ˆå¿…è¦æ—¶ï¼‰
3. `late final`
4. `late`
5. `static`

âŒ ä¸è¦ä¸ºäº†æ¶ˆé™¤ç¼–è¯‘é”™è¯¯å°±åŠ  `late`

# 

ä¸‹é¢è¿™ä»½æˆ‘æŒ‰**â€œè¯­è¨€æœºåˆ¶ â†’ è¯­æ³• â†’ ä½¿ç”¨åœºæ™¯ â†’ å·¥ç¨‹å»ºè®® â†’ å¸¸è§å‘â€**ç»™ä½ ä¸€æ¬¡æ€§è®²é€
**Dart `class` ä¸­çš„æ–¹æ³•å®šä¹‰æ–¹å¼**ï¼Œè¿™æ˜¯ä½ åé¢å†™ **Flutter / çŠ¶æ€ç®¡ç† / æ¶æ„è®¾è®¡** çš„æ ¸å¿ƒåŸºç¡€ã€‚

ä½ å¯ä»¥æŠŠå®ƒå½“æˆ **Dart ç±»æ–¹æ³•çš„å®Œæ•´è¯´æ˜ä¹¦**ã€‚

---

# ä¸€ã€Dart ç±»æ–¹æ³•çš„ 4 å¤§ç±»å‹æ€»è§ˆ

| æ–¹æ³•ç±»å‹            | å…³é”®å­—               | æ˜¯å¦ä¾èµ–å®ä¾‹ | æ˜¯å¦æœ‰æ–¹æ³•ä½“ | å¸¸è§ç”¨é€”   |
| --------------- | ----------------- | ------ | ------ | ------ |
| å®ä¾‹æ–¹æ³•            | æ—                  | âœ…      | âœ…      | æ“ä½œå¯¹è±¡çŠ¶æ€ |
| Getter / Setter | get / set         | âœ…      | âœ…      | å±æ€§å°è£…   |
| é™æ€æ–¹æ³•            | static            | âŒ      | âœ…      | å·¥å…·æ–¹æ³•   |
| æŠ½è±¡æ–¹æ³•            | æ— ï¼ˆabstract classï¼‰ | â€”      | âŒ      | æ¥å£è§„èŒƒ   |

---

# äºŒã€å®ä¾‹æ–¹æ³•ï¼ˆInstance Methodï¼‰

## 1ï¸âƒ£ å®šä¹‰æ–¹å¼

```dart
class Counter {
  int count = 0;

  void increment() {
    count++;
  }

  int doubleValue() {
    return count * 2;
  }
}
```

---

## 2ï¸âƒ£ ç‰¹ç‚¹æ€»ç»“

* å±äº **å¯¹è±¡å®ä¾‹**
* å¯ä»¥è®¿é—®ï¼š

  * å®ä¾‹å­—æ®µ
  * getter / setter
  * å…¶ä»–å®ä¾‹æ–¹æ³•
* é€šè¿‡ `å¯¹è±¡.æ–¹æ³•()` è°ƒç”¨

---

## 3ï¸âƒ£ ä½¿ç”¨ç¤ºä¾‹

```dart
void main() {
  final counter = Counter();
  counter.increment();
  print(counter.doubleValue()); // 2
}
```

---

## 4ï¸âƒ£ å·¥ç¨‹å»ºè®®

> **å®ä¾‹æ–¹æ³• = è¡Œä¸ºï¼ˆBehaviorï¼‰**

å½“ä¸€ä¸ªé€»è¾‘ **ä¾èµ–å¯¹è±¡çŠ¶æ€**ï¼Œå°±åº”è¯¥æ˜¯å®ä¾‹æ–¹æ³•ã€‚

---

# ä¸‰ã€Getter / Setterï¼ˆå±æ€§è®¿é—®å™¨ï¼‰

## 1ï¸âƒ£ Getterï¼ˆåªè¯»è®¡ç®—å±æ€§ï¼‰

### åŸºæœ¬å†™æ³•

```dart
class Rectangle {
  double width;
  double height;

  Rectangle(this.width, this.height);

  double get area => width * height;
}
```

è°ƒç”¨æ–¹å¼ï¼š

```dart
print(rect.area); // åƒå­—æ®µä¸€æ ·
```

---

## 2ï¸âƒ£ Setterï¼ˆå†™å…¥æ‹¦æˆªï¼‰

```dart
class User {
  String _name = '';

  String get name => _name;

  set name(String value) {
    if (value.isEmpty) {
      throw ArgumentError('name cannot be empty');
    }
    _name = value;
  }
}
```

---

## 3ï¸âƒ£ Getter / Setter çš„æ ¸å¿ƒä»·å€¼

| èƒ½åŠ›     | è¯´æ˜         |
| ------ | ---------- |
| å°è£…     | éšè—å†…éƒ¨å­—æ®µ     |
| æ ¡éªŒ     | set æ—¶æ‹¦æˆªéæ³•å€¼ |
| æ´¾ç”Ÿ     | get è®¡ç®—å±æ€§   |
| API ç¨³å®š | ä¸æš´éœ²å®ç°ç»†èŠ‚    |

---

## 4ï¸âƒ£ å¸¸è§è§„åˆ™ï¼ˆé‡è¦ï¼‰

* Getter **ä¸èƒ½æœ‰å‚æ•°**
* Setter **åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°**
* Setter è¿”å›å€¼å¿…é¡»æ˜¯ `void`
* ä½¿ç”¨æ—¶ **ä¸åŠ æ‹¬å·**

```dart
user.name = 'Tom'; // set
print(user.name); // get
```

---

## 5ï¸âƒ£ Flutter ä¸­çš„å…¸å‹ç”¨æ³•

```dart
class ViewModel extends ChangeNotifier {
  bool _loading = false;

  bool get isLoading => _loading;

  void setLoading(bool value) {
    _loading = value;
    notifyListeners();
  }
}
```

---

# å››ã€é™æ€æ–¹æ³•ï¼ˆstatic methodï¼‰

## 1ï¸âƒ£ å®šä¹‰æ–¹å¼

```dart
class MathUtils {
  static int add(int a, int b) {
    return a + b;
  }
}
```

---

## 2ï¸âƒ£ è°ƒç”¨æ–¹å¼

```dart
final result = MathUtils.add(2, 3);
```

âŒ é”™è¯¯ï¼š

```dart
MathUtils().add(2, 3); // âŒ
```

---

## 3ï¸âƒ£ ç‰¹ç‚¹æ€»ç»“

* å±äº **ç±»æœ¬èº«**
* âŒ æ— æ³•è®¿é—®å®ä¾‹å­—æ®µ / å®ä¾‹æ–¹æ³•
* âœ… å¯è®¿é—®é™æ€å­—æ®µ / é™æ€æ–¹æ³•

---

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

* å·¥å…·ç±»
* çº¯å‡½æ•°é€»è¾‘
* æ ¡éªŒ / è½¬æ¢
* æ„é€ è¾…åŠ©é€»è¾‘

```dart
class StringUtils {
  static bool isEmail(String input) {
    return input.contains('@');
  }
}
```

---

## 5ï¸âƒ£ å·¥ç¨‹å»ºè®®

> **static æ–¹æ³•ä¸è¦ä¾èµ–çŠ¶æ€**

å¦‚æœæ–¹æ³•å¼€å§‹ä¾èµ–çŠ¶æ€ â†’ è¯´æ˜è®¾è®¡è¯¥å˜æˆå®ä¾‹æ–¹æ³•äº†ã€‚

---

# äº”ã€æŠ½è±¡æ–¹æ³•ï¼ˆAbstract Methodï¼‰

## 1ï¸âƒ£ æŠ½è±¡ç±» & æŠ½è±¡æ–¹æ³•

```dart
abstract class Animal {
  void speak(); // æŠ½è±¡æ–¹æ³•
}
```

* âŒ æ²¡æœ‰æ–¹æ³•ä½“
* âŒ ä¸èƒ½å®ä¾‹åŒ–æŠ½è±¡ç±»

---

## 2ï¸âƒ£ å®ç°æŠ½è±¡æ–¹æ³•

```dart
class Dog extends Animal {
  @override
  void speak() {
    print('Woof');
  }
}
```

---

## 3ï¸âƒ£ æŠ½è±¡æ–¹æ³•çš„æ„ä¹‰ï¼ˆéå¸¸é‡è¦ï¼‰

| ç›®çš„ | è¯´æ˜          |
| -- | ----------- |
| è§„èŒƒ | å®šä¹‰â€œå¿…é¡»å®ç°çš„è¡Œä¸ºâ€ |
| è§£è€¦ | é¢å‘æ¥å£ç¼–ç¨‹      |
| æ‰©å±• | æ”¯æŒå¤šå®ç°       |
| æµ‹è¯• | æ–¹ä¾¿ mock     |

---

## 4ï¸âƒ£ æŠ½è±¡æ–¹æ³• vs æ¥å£

> Dart ä¸­ **class æœ¬èº«å°±æ˜¯æ¥å£**

```dart
class A {
  void foo() {}
}

class B implements A {
  @override
  void foo() {}
}
```

---

## 5ï¸âƒ£ Flutter / æ¶æ„ä¸­çš„å¸¸è§ç”¨æ³•

```dart
abstract class AuthService {
  Future<void> login();
  Future<void> logout();
}
```

```dart
class FirebaseAuthService implements AuthService {
  @override
  Future<void> login() async {}
}
```

---

# å…­ã€æ–¹æ³•ç±»å‹å¯¹æ¯”æ€»ç»“è¡¨ï¼ˆå»ºè®®æ”¶è—ï¼‰

| ç±»å‹              | æ˜¯å¦éœ€è¦å¯¹è±¡ | æ˜¯å¦èƒ½è®¿é—®å®ä¾‹çŠ¶æ€ | æ˜¯å¦å¯é‡å†™ |
| --------------- | ------ | --------- | ----- |
| å®ä¾‹æ–¹æ³•            | âœ…      | âœ…         | âœ…     |
| Getter / Setter | âœ…      | âœ…         | âœ…     |
| é™æ€æ–¹æ³•            | âŒ      | âŒ         | âŒ     |
| æŠ½è±¡æ–¹æ³•            | â€”      | â€”         | âœ…ï¼ˆå¿…é¡»ï¼‰ |

---

# ä¸ƒã€å¸¸è§é”™è¯¯ & è¸©å‘

### âŒ åœ¨ static æ–¹æ³•ä¸­è®¿é—®å®ä¾‹å­—æ®µ

```dart
static void foo() {
  print(count); // âŒ
}
```

---

### âŒ Getter å†™æˆæ™®é€šæ–¹æ³•

```dart
int getArea() => width * height; // âŒ é£æ ¼ä¸ä½³
```

âœ” æ¨èï¼š

```dart
int get area => width * height;
```

---

### âŒ æŠ½è±¡æ–¹æ³•å¿˜è®°å®ç°

```dart
class Cat extends Animal {} // âŒ
```

---

# å…«ã€å·¥ç¨‹çº§è®¾è®¡å»ºè®®ï¼ˆé‡ç‚¹ï¼‰

### æ¨èæ–¹æ³•è®¾è®¡é¡ºåºï¼š

1. **Getter**ï¼ˆæ´¾ç”ŸçŠ¶æ€ï¼‰
2. **å®ä¾‹æ–¹æ³•**ï¼ˆä¸šåŠ¡è¡Œä¸ºï¼‰
3. **æŠ½è±¡æ–¹æ³•**ï¼ˆå¯¹å¤–åè®®ï¼‰
4. **é™æ€æ–¹æ³•**ï¼ˆçº¯å·¥å…·ï¼‰

---

## ä¸€å¥è¯æ€»ç»“

> **å®ä¾‹æ–¹æ³•æ˜¯â€œåšäº‹â€ï¼ŒGetter/Setter æ˜¯â€œçœ‹å’Œæ”¹â€ï¼Œé™æ€æ–¹æ³•æ˜¯â€œå·¥å…·â€ï¼ŒæŠ½è±¡æ–¹æ³•æ˜¯â€œè§„åˆ™â€ã€‚**

å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¸®ä½ 
**ç”¨ä¸€ä¸ª Flutter é¡µé¢æŠŠè¿™ 4 ç§æ–¹æ³•å…¨éƒ¨â€œä¸²èµ·æ¥å®æˆ˜ä¸€éâ€**ï¼Œä½ å¯¹ Dart ç±»çš„ç†è§£ä¼šç›´æ¥ä¸Šä¸€ä¸ªå±‚çº§ã€‚
