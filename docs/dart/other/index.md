è¿™æ˜¯ **Dart ä¸­ `var`ã€`final`ã€æ˜¾å¼ç±»å‹å£°æ˜** ä¸‰ç§æ–¹å¼çš„åŒºåˆ«ã€‚ä½ è¿™ä¸ªä¾‹å­éå¸¸å…¸å‹ï¼Œæˆ‘ä»¬é€æ¡ç²¾ç¡®è¯´æ˜ ğŸ‘‡

---

## 1ï¸âƒ£ `var list = [1, 2, 3];`

### æœ¬è´¨

```dart
var list = [1, 2, 3];
```

* **ç¼–è¯‘æœŸç±»å‹æ¨æ–­** â†’ `List<int>`
* `var` â‰  åŠ¨æ€ç±»å‹
* ä¸€æ—¦æ¨æ–­å®Œæˆï¼Œ**ç±»å‹å°±å›ºå®šäº†**

### ç­‰ä»·å†™æ³•

```dart
List<int> list = [1, 2, 3];
```

### ç‰¹ç‚¹

* âœ… å¯ä»¥ä¿®æ”¹å†…å®¹
* âœ… å¯ä»¥é‡æ–°èµ‹å€¼ï¼ˆå‰ææ˜¯ç±»å‹ä¸€è‡´ï¼‰

```dart
list.add(4);          // âœ…
list = [4, 5];        // âœ…
list = ['a'];         // âŒ ç¼–è¯‘é”™è¯¯
```

### é€‚ç”¨åœºæ™¯

ğŸ‘‰ **99% æ—¥å¸¸ä»£ç é¦–é€‰**

* ç®€æ´
* æœ‰å®Œæ•´ç±»å‹æ£€æŸ¥
* IDE æ”¯æŒæœ€å¥½

---

## 2ï¸âƒ£ `final list = [1, 2, 3];`

### æœ¬è´¨

```dart
final list = [1, 2, 3];
```

* **ç±»å‹ä¾ç„¶ä¼šè¢«æ¨æ–­ä¸º `List<int>`**
* ä½†ï¼š**å˜é‡æœ¬èº«ä¸å¯é‡æ–°èµ‹å€¼**

### ç­‰ä»·å†™æ³•

```dart
final List<int> list = [1, 2, 3];
```

### ç‰¹ç‚¹

* âœ… å¯ä»¥ä¿®æ”¹é›†åˆå†…å®¹
* âŒ ä¸èƒ½é‡æ–°æŒ‡å‘æ–°çš„ List

```dart
list.add(4);          // âœ…
list[0] = 10;         // âœ…
list = [4, 5];        // âŒ ç¼–è¯‘é”™è¯¯
```

### å…³é”®ç‚¹ï¼ˆéå¸¸é‡è¦ï¼‰

> **final é™åˆ¶çš„æ˜¯â€œå¼•ç”¨â€ï¼Œä¸æ˜¯â€œå†…å®¹â€**

---

## 3ï¸âƒ£ `List<String> names = ['a', 'b'];`

### æœ¬è´¨

```dart
List<String> names = ['a', 'b'];
```

* **æ˜¾å¼å£°æ˜ç±»å‹**
* ç¼–è¯‘æœŸå¼ºæ ¡éªŒ
* ä¸ä¾èµ–ç±»å‹æ¨æ–­

### ç‰¹ç‚¹

* âœ… æœ€ä¸¥æ ¼
* âœ… é˜…è¯»æ€§æœ€å¥½ï¼ˆå°¤å…¶åœ¨å…¬å…± APIï¼‰
* âŒ ç¨å¾®å•°å—¦

```dart
names.add('c');   // âœ…
names.add(1);     // âŒ ç¼–è¯‘é”™è¯¯
```

### é€‚ç”¨åœºæ™¯

* å…¬å…±æ–¹æ³•è¿”å›å€¼
* ç±»å±æ€§
* æ¡†æ¶ / SDK / åº“ä»£ç 
* å›¢é˜Ÿåä½œä¸­å¼ºè°ƒå¯è¯»æ€§

---

## ğŸ”¥ æ ¸å¿ƒå¯¹æ¯”è¡¨ï¼ˆé‡ç‚¹ï¼‰

| å†™æ³•                     | æ˜¯å¦å¯é‡æ–°èµ‹å€¼ | æ˜¯å¦å¯æ”¹å†…å®¹ | æ˜¯å¦æœ‰ç±»å‹ |
| ---------------------- | ------- | ------ | ----- |
| `var list = [...]`     | âœ…       | âœ…      | âœ…ï¼ˆæ¨æ–­ï¼‰ |
| `final list = [...]`   | âŒ       | âœ…      | âœ…ï¼ˆæ¨æ–­ï¼‰ |
| `List<T> list = [...]` | âœ…       | âœ…      | âœ…ï¼ˆæ˜¾å¼ï¼‰ |

---

## ğŸš¨ å¸¸è§è¯¯åŒºï¼ˆä¸€å®šè¦é¿å¼€ï¼‰

### âŒ è¯¯åŒº 1ï¼š`var` æ˜¯åŠ¨æ€

```dart
var x = 1;
x = 'a'; // âŒ é”™
```

â¡ `var` æ˜¯ **é™æ€ç±»å‹æ¨æ–­**

---

### âŒ è¯¯åŒº 2ï¼š`final` ä¸å¯å˜

```dart
final list = [1, 2];
list.add(3); // âœ…
```

â¡ `final` â‰  ä¸å¯å˜é›†åˆ
ä¸å¯å˜é›†åˆè¦ç”¨ï¼š

```dart
const list = [1, 2];
```

---

## ğŸ§  è¿›é˜¶è¡¥å……ï¼š`const`ï¼ˆé¡ºä¾¿ä¸€æï¼‰

```dart
const list = [1, 2, 3];
```

* ç¼–è¯‘æœŸå¸¸é‡
* å†…å®¹ **å®Œå…¨ä¸å¯å˜**
* æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ `const`

```dart
list.add(4); // âŒ
```

---

## âœ… å®æˆ˜å»ºè®®ï¼ˆFlutter / Dart é¡¹ç›®ï¼‰

### æ¨èä¼˜å…ˆçº§

1. **`final` + æ¨æ–­ï¼ˆæœ€å¸¸ç”¨ï¼‰**

```dart
final items = <int>[1, 2, 3];
```

2. `var`ï¼ˆå±€éƒ¨å˜é‡ï¼‰

```dart
var count = 0;
```

3. æ˜¾å¼ç±»å‹ï¼ˆå…¬å…±æ¥å£ï¼‰

```dart
List<String> getNames() => [];
```

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ **ç»“åˆ Flutter Widgetã€Stateã€Provider / Riverpod åœºæ™¯**ï¼ŒæŠŠè¿™ä¸‰ç§ç”¨æ³•è®²æˆâ€œä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸€ä¸ªâ€çš„**è‚Œè‚‰è®°å¿†è§„åˆ™**ã€‚
