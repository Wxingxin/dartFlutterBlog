ä¸‹é¢è¿™ä»½æ˜¯ **Dart ä¸­ `dynamic` çš„ã€ŒçŸ¥è¯†ç‚¹å¤§å…¨ + ä½¿ç”¨å¤§å…¨ã€**ã€‚
æˆ‘ä¼š**ç›´è¯´ç»“è®º**ï¼š`dynamic` æ˜¯ä¸€æŠŠâ€œé”‹åˆ©ä½†å±é™©çš„åˆ€â€ï¼Œ**ä½ å¿…é¡»çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½ç”¨ã€ä»€ä¹ˆæ—¶å€™ç»å¯¹ä¸èƒ½ç”¨**ã€‚

æˆ‘æŒ‰ **æœ¬è´¨ â†’ è¡Œä¸º â†’ å¯¹æ¯” â†’ å®æˆ˜ â†’ å‘ â†’ ä½¿ç”¨å‡†åˆ™** ç»™ä½ è®²é€ã€‚

---

# ä¸€ã€dynamic æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¸€å¥è¯å®šæ€§ï¼‰

> **`dynamic` æ˜¯ Dart ä¸­â€œå…³é—­é™æ€ç±»å‹æ£€æŸ¥â€çš„ç±»å‹**

```dart
dynamic x = 10;
x = 'hello';
x = true;
```

ğŸ“Œ ç¼–è¯‘å™¨å¯¹ `dynamic` **ä¸åšä»»ä½•ç±»å‹çº¦æŸ**

---

# äºŒã€dynamic åœ¨ç±»å‹ä½“ç³»ä¸­çš„çœŸå®ä½ç½®ï¼ˆå¾ˆé‡è¦ï¼‰

```text
Object
   â†‘
dynamic
```

âš ï¸ æ³¨æ„ï¼š

* `dynamic` **ç»§æ‰¿è‡ª Object**
* ä½†è¡Œä¸ºå®Œå…¨ä¸åŒ
* `dynamic` ä¼š **ç»•è¿‡ç¼–è¯‘æœŸæ£€æŸ¥**

---

# ä¸‰ã€dynamic çš„æ ¸å¿ƒè¡Œä¸ºï¼ˆå¿…é¡»ç†è§£ï¼‰

## 1ï¸âƒ£ dynamic å¯ä»¥è°ƒç”¨ä»»ä½•å±æ€§ / æ–¹æ³•

```dart
dynamic x = 'hello';
print(x.length); // âœ…
```

âš ï¸ å¦‚æœä½ çŒœé”™äº†ç±»å‹ï¼š

```dart
dynamic x = 123;
print(x.length); // âŒ è¿è¡Œæ—¶å´©æºƒ
```

ğŸ“Œ **æ‰€æœ‰é”™è¯¯éƒ½æ¨è¿Ÿåˆ°è¿è¡Œæ—¶**

---

## 2ï¸âƒ£ dynamic è‡ªåŠ¨ä¼ æ’­ï¼ˆéå¸¸å±é™©ï¼‰

```dart
dynamic a = 'hello';
var b = a; // b ä¹Ÿæ˜¯ dynamic
```

ğŸ“Œ ä¸€æ¬¡ dynamicï¼Œåé¢ä¸€ç‰‡ dynamic

---

## 3ï¸âƒ£ dynamic å¯ä»¥æ¥æ”¶ nullï¼ˆé»˜è®¤å¯ç©ºï¼‰

```dart
dynamic x = null; // âœ…
```

---

# å››ã€dynamic vs Objectï¼ˆé‡ç‚¹å¯¹æ¯”ï¼‰

| å¯¹æ¯”ç‚¹    | dynamic | Object |
| ------ | ------- | ------ |
| ç¼–è¯‘æœŸæ£€æŸ¥  | âŒ       | âœ…      |
| IDE æç¤º | âŒ       | âœ…      |
| è¿è¡Œæ—¶é£é™©  | é«˜       | ä½      |
| æ˜¯å¦æ¨è   | âŒ       | âœ…      |

### å¯¹æ¯”ç¤ºä¾‹

```dart
Object o = 'hello';
// o.length âŒ

dynamic d = 'hello';
print(d.length); // âœ…
```

ğŸ“Œ **ç»“è®ºï¼š**

> èƒ½ç”¨ Objectï¼Œç»ä¸ç”¨ dynamic

---

# äº”ã€dynamic vs varï¼ˆå¾ˆå¤šäººææ··ï¼‰

```dart
var a = 10;      // æ¨æ–­ä¸º int
dynamic b = 10; // æ°¸è¿œæ˜¯ dynamic
```

|        | var  | dynamic |
| ------ | ---- | ------- |
| æ˜¯å¦ç±»å‹æ¨æ–­ | âœ…    | âŒ       |
| æ˜¯å¦å®‰å…¨   | âœ…    | âŒ       |
| æ¨èåº¦    | â­â­â­â­ | â­       |

---

# å…­ã€dynamic åœ¨å‡½æ•°ä¸­çš„è¡¨ç°

## 1ï¸âƒ£ å‚æ•°ä¸º dynamic

```dart
void foo(dynamic x) {
  print(x.length);
}
```

âš ï¸ å®Œå…¨æ— ä¿æŠ¤

---

## 2ï¸âƒ£ è¿”å› dynamic

```dart
dynamic getValue() {
  return 'hello';
}
```

ğŸ“Œ è°ƒç”¨æ–¹æ— æ³•è·å¾—ä»»ä½•ç±»å‹ä¿¡æ¯

---

## 3ï¸âƒ£ dynamic ä¸ç±»å‹åˆ¤æ–­ï¼ˆå¿…é¡»é…åˆï¼‰

```dart
void handle(dynamic x) {
  if (x is String) {
    print(x.length);
  }
}
```

ğŸ“Œ **ä¸€æ—¦ is åˆ¤æ–­æˆåŠŸï¼Œç±»å‹æ‰å®‰å…¨**

---

# ä¸ƒã€dynamic ä¸ null safetyï¼ˆé‡è¦ï¼‰

```dart
dynamic x;
print(x); // null
```

ğŸ“Œ dynamic é»˜è®¤ç­‰ä»·äº `Object?`

ä½†åŒºåˆ«æ˜¯ï¼š

* `Object?` æœ‰ç¼–è¯‘æœŸé™åˆ¶
* `dynamic` æ²¡æœ‰é™åˆ¶

---

# å…«ã€dynamic åœ¨é›†åˆä¸­çš„å½±å“

## 1ï¸âƒ£ List<dynamic>

```dart
List<dynamic> list = [1, 'a', true];
```

ğŸ“Œ å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ + null

---

## 2ï¸âƒ£ dynamic æ±¡æŸ“é—®é¢˜

```dart
List list = []; // ç­‰ä»· List<dynamic>
```

âš ï¸ éå¸¸å¸¸è§çš„å‘

---

## ä¹ã€dynamic åœ¨ JSON åœºæ™¯ä¸­çš„çœŸå®ç”¨é€”

### âŒ é”™è¯¯ç”¨æ³•

```dart
dynamic json = fetchJson();
print(json['name'].length); // é£é™©æé«˜
```

---

### âœ… æ­£ç¡®ç”¨æ³•

```dart
final Map<String, dynamic> json = fetchJson();

final String name = json['name'] as String;
```

ğŸ“Œ dynamic åªå­˜åœ¨äº **æœ€å¤–å±‚**

---

# åã€dynamic åœ¨ Flutter ä¸­çš„åˆç†ä½¿ç”¨åœºæ™¯

## âœ… å¯ä»¥ç”¨çš„åœ°æ–¹

1ï¸âƒ£ JSON ååºåˆ—åŒ–çš„ç¬¬ä¸€å±‚
2ï¸âƒ£ ç¬¬ä¸‰æ–¹ SDK è¿”å›å€¼
3ï¸âƒ£ å¹³å°é€šé“ï¼ˆPlatform Channelï¼‰
4ï¸âƒ£ å¿«é€ŸåŸå‹ / è°ƒè¯•ä»£ç 

---

## âŒ ç»ä¸æ¨èçš„åœ°æ–¹

âŒ Widget å±æ€§
âŒ ä¸šåŠ¡æ¨¡å‹
âŒ çŠ¶æ€ç®¡ç†
âŒ é•¿æœŸç»´æŠ¤ä»£ç 

---

# åä¸€ã€dynamic çš„ 8 ä¸ªè‡´å‘½å‘ï¼ˆä¸€å®šä¼šè¸©ï¼‰

1ï¸âƒ£ ä»¥ä¸ºæœ‰ IDE æç¤º
2ï¸âƒ£ JSON æ·±å±‚ç»“æ„å…¨æ˜¯ dynamic
3ï¸âƒ£ ç”¨ dynamic æ›¿ä»£æ³›å‹
4ï¸âƒ£ dynamic è‡ªåŠ¨æ‰©æ•£
5ï¸âƒ£ dynamic + null ä¸åˆ¤ç©º
6ï¸âƒ£ è¿è¡Œæ—¶æŠ¥é”™å®šä½å›°éš¾
7ï¸âƒ£ Flutter build é˜¶æ®µå´©æºƒ
8ï¸âƒ£ ç”Ÿäº§ç¯å¢ƒæ‰å‘ç°é—®é¢˜

---

# åäºŒã€dynamic çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ï¼ˆé»„é‡‘æ³•åˆ™ï¼‰

### âœ”ï¸ ä¸‰æ¡é“å¾‹

1ï¸âƒ£ **èŒƒå›´æœ€å°åŒ–**

```dart
dynamic raw = fetchJson();
```

2ï¸âƒ£ **ç«‹åˆ»æ”¶æ•›ä¸ºå¼ºç±»å‹**

```dart
final Map<String, dynamic> data = raw;
```

3ï¸âƒ£ **ä¸å‘ä¸‹ä¼ æ’­**

```dart
String name = data['name'] as String;
```

---

# åä¸‰ã€ä¸€å¥è¯æ€»ç»“ dynamic

> **dynamic æ˜¯ Dart ç»™ä½ çš„â€œé€ƒç”Ÿé€šé“â€ï¼Œä¸æ˜¯â€œä¸»å¹²é“â€**

---

## å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸¦ä½ è¿›ã€Œè¿›é˜¶å±‚ã€ï¼š

* âœ… `dynamic` vs `Object?` vs `var` çš„è®¾è®¡å–èˆ
* âœ… JSON â†’ Model çš„æœ€ä½³ç±»å‹æ¼”è¿›è·¯å¾„
* âœ… Flutter é¡¹ç›®ä¸­å½»åº•â€œæ¸…ç† dynamicâ€çš„æ–¹æ³•
* âœ… ä¸€é“â€œdynamic é™·é˜±â€é¢è¯•é¢˜ + è§£æ

ä½ é€‰ä¸€ä¸ªï¼Œæˆ‘ç›´æ¥ç»™ä½ å¾€ã€Œå®æˆ˜å¤©èŠ±æ¿ã€æ¨è¿›ã€‚
